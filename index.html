<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link rel="icon" type="image/x-icon" href="image/FeviconIcon.png" />
  <title>Unique Pest Control</title>

  <!-- Preload -->
  <link rel="preload" as="style" href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" />
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" />
  <link rel="preload" as="style" href="css/style.css" />
  <link rel="preload" as="style" href="css/responsive.css" />
  <link rel="preload" as="style" href="https://cdnjs.cloudflare.com/ajax/libs/OwlCarousel2/2.3.4/assets/owl.carousel.min.css" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/OwlCarousel2/2.3.4/assets/owl.carousel.min.css" />

  <!-- Animate.css -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css"/>
  <link rel="stylesheet" href="css/style.css" />
  <link rel="stylesheet" href="css/responsive.css" />
  <link rel="preconnect" href="https://kit.fontawesome.com" />
  <link rel="dns-prefetch" href="https://kit.fontawesome.com" />
  <script src="https://kit.fontawesome.com/52ca9e0df4.js" crossorigin="anonymous"></script>
</head>

<body>

<header>
  <div class="wrapheder">
    <div id="header">
  
    </div>
    <!-- <li class="navLi"><a href="#" class="navLink">Dropdown lavel-1 </a><ul class="dropdownList"><li class="navLi"><a href="#" class="navLink">Dropdown lavel-2</a></li><li class="navLi"><a href="#" class="navLink">Dropdown lavel-2</a></li><li class="navLi"><a href="#" class="navLink">Dropdown lavel-2 </a><ul class="dropdownList"><li class="navLi"><a href="#" class="navLink">Dropdown lavel-3</a></li><li class="navLi"><a href="#" class="navLink">Dropdown lavel-3</a></li><li class="navLi"><a href="#" class="navLink">Dropdown lavel-3</a></li></ul></li></ul></li> -->
  </div>
</header>

  <!-- banner start -->
     <section id="headBelowContent" class="Banner">
      <div class="comtainer-fluid text-white">
        <div id="ca1" class="owl-carousel owl-theme">
          <div class="item item1">
            <div class="container">
              <div class="row">
                <div class="bannerCard">
                  <div class="bannertext1 px-3 ms-auto">
                    <h1 class="bannerFont">Best Pest Control</h1>
                    <div class="designerBorder">
                      <img src="image/asset 3.png" alt="">
                    </div>
                    <p>
                      Unique Pest Control provides reliable, eco-friendly
                      solutions to eliminate pests like termites, rodents, and
                      insects, ensuring a safe and pest-free space for your home
                      or business
                    </p>
                    <a class="btnOutline fourthH" href="contactUs.html">Read More</a>
                  </div>
                </div>
              </div>
            </div>
          </div>

          <div class="item item2">
            <div class="container">
              <div class="row">
                <div class="bannerCard">
                  <div class="bannertext1 px-3 ms-auto">
                    <h1 class="bannerFont">Best Pest Control</h1>
                    <div class="designerBorder">
                      <img src="image/asset 3.png" alt="">
                    </div>
                    <p>
                      Unique Pest Control provides reliable, eco-friendly
                      solutions to eliminate pests like termites, rodents, and
                      insects, ensuring a safe and pest-free space for your home
                      or business
                    </p>
                    <a class="btnOutline fourthH" href="contactUs.html">Read More</a>
                  </div>
                </div>
              </div>
            </div>
          </div>

          <div class="item item3">
            <div class="container">
              <div class="row">
                <div class="bannerCard">
                <div class="bannertext1 px-3 ms-auto">
                    <h1 class="bannerFont">Best Pest Control</h1>
                    <div class="designerBorder">
                      <img src="image/asset 3.png" alt="">
                    </div>
                    <p> 
                      Unique Pest Control provides reliable, eco-friendly
                      solutions to eliminate pests like termites, rodents, and
                      insects, ensuring a safe and pest-free space for your home
                      or business
                    </p>
                    <a class="btnOutline fourthH" href="contactUs.html">Read More</a>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>
  <!-- banner start End-->


  <!-- Pest Control Services section start -->
  <section class="pestControlServices defaultPadding">
    <div class="container">
      <div class="row g-sm-5 gy-5">
        <div class="col-lg-4">
          <img loading="lazy" src="image/asset 16.png" class="profile-img" alt="A man is spreding solution for pest control" />
        </div>
        <div class="col-lg-4">
          <h2 class="therdH" id="title-input">Pest Control Services</h2>
          <p id="desc-input">
            Unique Pest Control offers expert solutions to keep your home or
            business free from pests. From termites and rodents to cockroaches
            and bed bugs, our comprehensive services ensure a safe and
            pest-free environment, using eco-friendly methods that protect
            both your property and the planet.
          </p>
        </div>
      </div>
    </div>
  </section>
  <!-- Pest Control Services section End -->

  <!-- Get in Touch section start  -->
  <section class="getInTouch defaultPadding">
    <div class="container">
      <div class="row g-sm-5 gy-4 align-items-center">
        <div class="col-lg-6">
          <h2 class="secH">Get in Touch</h2>
          <p id="getinTouch-input">
            At Unique Pest Control, we stand by the quality of our services,
            offering a guarantee for our pest control treatments, including
            our specialized anti-termite solutions. Our expertise extends to
            freeing your home from a variety of pests, including rodents,
            rats, cockroaches, bed bugs, white borers, termites, and garden
            pests. The clear advantage of choosing us is our ability to
            deliver effective results at affordable rates.
          </p>
       
        </div>
        <div class="col-lg-6 ">
          <div class="pestControlImg">
            <img loading="lazy" src="image/asset 17.png" class="getintouch-Image" alt="Man illustration posing for pest control" />
          </div>

        </div>
      </div>
    </div>
  </section>
  <!-- Get in Touch section End -->

 

<div id="fabContainer"></div>

<section class="ourTestimonials servicePage0 defaultPadding" id="testimonialElement">
</section>


<section class="whywChooseUs defaultPadding" id="whychooseElement">
</section>




<!-- footer section start  -->
<footer id="footer" class="footer"></footer>
<!-- footer section end  -->

<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/OwlCarousel2/2.3.4/owl.carousel.min.js"></script>


<script>
    $(document).ready(function () {

        // Initialize Owl Carousel
        $("#ca2").owlCarousel({
            loop: true,
            margin: 10,
            nav: false,
            dots: true,
            autoplay: true,
            autoplayTimeout: 3000,
            autoplayHoverPause: true,
            responsive: {
                0: { items: 1 },
                600: { items: 2 },
                1000: { items: 4 }
            }
        });
  
        // Wait a bit before initializing LightGallery to ensure OwlCarousel has finished rendering
        setTimeout(function() {
            lightGallery(document.querySelector(".gallery-container"), {
                selector: '.gallery-item',
                plugins: [lgZoom, lgAutoplay],
                speed: 500,
                download: false,
                zoomFromOrigin: false,
                scale: 1.2,
                autoplay: true
            });
        }, 500);
    });
    
  </script>

  <script>

    $("#ca2").owlCarousel({
      loop: true,
      margin: 0,
      nav: true,
      dots: true,
      dotsEach: 1,
      animateOut: 'animate__fadeOut',
      animateIn: 'animate__slideInUp',
      navSpeed: 1000,
      autoplaySpeed: 1000,
      dragEndSpeed: 1000,
      autoplay: true,
      autoplayTimeout: 5000,
      autoplayHoverPause: true,
      mouseDrag: false,
      touchDrag: false,
      responsive: {
        0: {
          items: 1,
        },
        600: {
          items: 1,
        },
        1000: {
          items: 1,
        },
      },
    });
  </script>

<script>
  const API_BASE_URL = "https://tsb11623-5000.inc1.devtunnels.ms";
  const userId = "6879c898fbe4bc33b8acafe5";

  document.addEventListener("DOMContentLoaded", () => {
    fetchAndRenderBanner();
    // fetchSliderImages();
    // fetchProducts();
    fetchContent();
  });

  function initializeOwlCarousel() {
  const prevBtn = `<i class="fa-solid fa-arrow-left"></i> Prev`;
  const nextBtn = `Next <i class="fa-solid fa-arrow-right"></i>`;

  $('#ca1').owlCarousel({
    loop: true,
    margin: 0,
    nav: true,
    dots: true,
    dotsEach: 1,
    animateOut: "fadeOut",
    navText: [prevBtn, nextBtn],
    autoplayHoverPause: true,
    responsive: {
      0: { items: 1 },
      600: { items: 1 },
      1000: { items: 1 },
    },
  });
}
    
  async function fetchAndRenderBanner() {
  try {
    const [titleSliderRes, contentRes] = await Promise.all([
      fetch(`${API_BASE_URL}/api/site/title-slider?userId=${userId}`),
      fetch(`${API_BASE_URL}/api/site/website?userId=${userId}`)
    ]);
    
    if (!titleSliderRes.ok || !contentRes.ok) throw new Error("Response not OK");

    const titleSliders = await titleSliderRes.json();
    const content = await contentRes.json();
    const latestChange = content.changes?.[content.changes.length - 1] || {};

    if (!Array.isArray(titleSliders) || titleSliders.length === 0) throw new Error("Empty titleSliders");

    const bannerCarousel = document.getElementById("ca1");
    bannerCarousel.innerHTML = "";

    titleSliders.forEach((slide, index) => {
      const imageUrl = slide.image ? `${API_BASE_URL}/uploads/${slide.image}` : "fallback.jpg";

      const bannerItem = document.createElement("div");
      bannerItem.className = `item item${index + 1}`;
      bannerItem.style.background = `linear-gradient(#0000008c, #0000008c) 0 0 / cover,url(${imageUrl}) center / cover no-repeat`;

      bannerItem.innerHTML = `
        <div class="container">
              <div class="row">
                <div class="bannerCard">
                  <div class="bannertext1 px-3 ms-auto">
                    <h1 class="bannerFont">${slide.title}</h1>
                    <div class="designerBorder">
                      <img src="image/asset 3.png" alt="">
                    </div>
                    <p>
                      Unique Pest Control provides reliable, eco-friendly
                      solutions to eliminate pests like termites, rodents, and
                      insects, ensuring a safe and pest-free space for your home
                      or business
                    </p>
                    <a class="btnOutline fourthH" href="contactUs.html">Read More</a>
                  </div>
                </div>
              </div>
            </div>
          
      `;

      bannerCarousel.appendChild(bannerItem);
    });

    initializeOwlCarousel(); // ✅ call shared carousel setup
  } catch (error) {
    console.warn("Falling back to default banner. Reason:", error.message);
    initializeOwlCarousel(); // ✅ fallback carousel for default static HTML
  }
}


async function fetchContent() {
  try {
    const res = await fetch(`${API_BASE_URL}/api/site/website?userId=${userId}`);
    if (!res.ok) throw new Error("Failed to fetch content");

    const data = await res.json();
    
    console.log("Fetched content data:", data);

    // Use the last change (latest one)
    const latestChange = data.changes?.[data.changes.length - 1];

    if (!latestChange) {
      console.warn("No change data found");
      return;
    }

    if (latestChange.description && document.getElementById("desc-input")) {
      document.getElementById("desc-input").textContent = latestChange.description.trim();
    }

    if (latestChange.bannerImage && document.querySelector(".profile-img")) {
      document.querySelector(".profile-img").src = `${API_BASE_URL}/uploads/${latestChange.bannerImage}`;
    }

     if (latestChange.title && document.getElementById("title-input")) {
      document.getElementById("title-input").textContent = latestChange.title.trim();
    }
    
       if (latestChange.getintouchImage && document.querySelector(".getintouch-Image")) {
      document.querySelector(".getintouch-Image").src = `${API_BASE_URL}/uploads/${latestChange.getintouchImage}`;
    }

    if (latestChange.getintouchDescription && document.getElementById("getinTouch-input")) {
      document.getElementById("getinTouch-input").innerHTML = latestChange.getintouchDescription.trim();
    }


  } catch (err) {
    console.error("Error loading content:", err);
  }
}

async function fetchSliderImages() {
  try {
    const res = await fetch(`${API_BASE_URL}/api/site/slider-images?userId=${userId}`);
    if (!res.ok) throw new Error("Failed to fetch slider images");
    const data = await res.json();

    const galleryCarousel = document.getElementById("ca2");
    galleryCarousel.innerHTML = "";

    data.forEach(image => {
      const imageUrl = `${API_BASE_URL}/uploads/${image}`;
      const div = document.createElement("div");
      div.classList.add("gallery-item");
      div.setAttribute("data-src", imageUrl);
      div.innerHTML = `<img src="${imageUrl}" alt="Gallery Image">`;
      galleryCarousel.appendChild(div);
    });

    $("#ca2").trigger("destroy.owl.carousel").owlCarousel({
      items: 3,
      loop: true,
      nav: true,
      dots: false,
      margin: 10
    });
  } catch (err) {
    console.error("Error loading slider images:", err);
  }
}


async function fetchProducts() {
  try {
    const res = await fetch(`${API_BASE_URL}/api/site/products?userId=${userId}`);
    if (!res.ok) throw new Error("Failed to fetch products");
    const data = await res.json();

    const productContainer = document.querySelector(".productSection .row");
    productContainer.innerHTML = "";

    data.forEach(product => {
      const imageUrl = `${API_BASE_URL}/uploads/${product.image}`;
      productContainer.innerHTML += `
        <div class="col-lg-4 col-md-6">
          <div class="productCard">
            <div class="proImg">
              <img src="${imageUrl}" alt="productImage">
            </div>
            <div class="protext">
              <h3 class="therdH">${product.title}</h3>
              <p>${product.description}</p>
            </div>
          </div>
        </div>
      `;
    });
  } catch (err) {
    console.error("Error loading products:", err);
  }
}


</script>



<script defer src="js/script.js"></script>

</body>

</html>

  <!-- <script>
    document.getElementById("loader").style.display = "flex";

    fetch("https://script.google.com/macros/s/AKfycbwzufAgXyiKbYoNLh2fR4-0V4qOaev3frSzAjhqaxKqmI79X0eKoo7blokxbRyn3vSX3w/exec")
      .then(response => response.json())
      .then(data => {
        console.log(data);

        document.getElementById("h-title").textContent = data.h_title;
        document.getElementById("h-description").textContent = data.h_description;

        const imageUrl = data.h_banner_image; // Adjust this if the structure is different
        const banner = document.querySelector(".Banner .item1");
        banner.style.background = `url("${imageUrl}") center/cover no-repeat`;

        document.getElementById("h-service-title").textContent = data.h_service_title;
        document.getElementById("h-about-services-title").textContent = data.h_about_services_title;
        document.getElementById("h-about-services-description").textContent = data.h_about_services_description;

        document.getElementById("h-about-services-image").src = data.h_about_services_image;
        document.getElementById("h-maintanance-services-title").textContent = data.h_maintenanace_services_title;
        document.getElementById("h-maintanance-services-description").textContent = data.h_maintenance_services_description;

        document.getElementById("h-getin-touch-description-1").textContent = data.h_getin_touch_description_1;
        document.getElementById("h-getin-touch-description-2").textContent = data.h_getin_touch_description_2;
        document.getElementById("h-getin-touch-image").src = data.h_getin_touch_image;

        document.getElementById("h-why-chooseUs-title-1").textContent = data.h_why_chooseUs_title_1;
        document.getElementById("h-why-chooseUs-description-1").textContent = data.h_why_chooseUs_description_1;
        document.getElementById("h-why-chooseUs-title-2").textContent = data.h_why_chooseUs_title_2;
        document.getElementById("h-why-chooseUs-description-2").textContent = data.h_why_chooseUs_description_2;
        document.getElementById("h-why-chooseUs-title-3").textContent = data.h_why_chooseUs_title_3;
        document.getElementById("h-why-chooseUs-description-3").textContent = data.h_why_chooseUs_description_3;
        document.getElementById("h-why-chooseUs-title-4").textContent = data.h_why_chooseUs_title_4;
        document.getElementById("h-why-chooseUs-description-4").textContent = data.h_why_chooseUs_description_4;

        document.getElementById("testimonial-review-1").textContent = data.testimonial_review_1;
        document.getElementById("testimonial-name-1").textContent = data.testimonial_name_1;
        document.getElementById("testimonial-review-2").textContent = data.testimonial_review_2;
        document.getElementById("testimonial-name-2").textContent = data.testimonial_name_2;
        document.getElementById("testimonial-review-3").textContent = data.testimonial_review_3;
        document.getElementById("testimonial-name-3").textContent = data.testimonial_name_3;
        document.getElementById("testimonial-review-4").textContent = data.testimonial_review_4;
        document.getElementById("testimonial-name-4").textContent = data.testimonial_name_4;

      })
      .catch(error => console.error("Error fetching data:", error))
      .finally(() => {
        // Add 1s delay, then fade out loader
        setTimeout(() => {
          const loader = document.getElementById("loader");
          loader.classList.add("hide");
          setTimeout(() => loader.style.display = "none", 500);
        }, 2000);
      });
  </script> -->

